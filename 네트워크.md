# 네트워크

### 네트워크란

노드(서버, 라우터, 스위치 등의 네트워크 장치)와 링크(유선, 무선)가 서로 연결되어 있으며 리소스를 공유하는 집합

### 네트워크 토폴로지

노드와 링크가 어떻게 배치되어 있는지에 대한 방식, 연결형태

- 트리 토폴로지
  
  - 계층형 토폴로지이며 노드의 추가와 삭제가 쉽다
  
  - 특정 노드에 트래픽이 집중될 때 하위 노드에 영향을 끼칠 수 있다.
  
  <img src="https://thebook.io/img/080326/070.jpg" title="" alt="" width="329">

- 버스 토폴로지
  
  - 중앙통신회선 하나에 여러개의 노드가 연결되어 공유하는 네트워크 구성
  
  - 근거리 통신망(LAN)에서 사용
  
  - 설치비용이 적고 신뢰성이 우수하고 노드를 추가하거나 삭제하기 쉽다
  
  - [스푸핑](#스푸핑)이 가능하다
  
  <img src="https://thebook.io/img/080326/071_1.jpg" title="" alt="" width="422">

- 스타 토폴로지
  
  - 중앙에 있는 노드에 모두 연결된 네트워크 구성
  
  - 노드추가, 에러탐지가 쉽고 패킷의 충돌발생 가능성이 적다
  
  - 에러 발생 위치가 중앙노드가 아닐 경우 큰 영향이 없지만 중앙노드일 경우 전체 네트워크 사용이 불가능하다
  
  - 설치비용이 고가다
  
  <img title="" src="https://thebook.io/img/080326/072_1.jpg" alt="" width="297">

- 링형 토폴로지
  
  - 각각의 노드가 양 옆의 두 노드와 연결되어 전체적으로 고리처럼 하나의 연속된 길로 통신을 하는 망 구성 방식
  
  - 노드 수가 증가되어도 네트워크상의 손실이 거의 없고 충돌이 발생될 가능성이 적고 노드의 고장을 쉽게 찾을 수 있다.
  
  - 네트워크 구성 변경이 어렵고 회선에 장애가 발생하면 전체 네트워크에 영향을 크게 끼친다
  
  <img src="https://thebook.io/img/080326/072_2.jpg" title="" alt="" width="289">

- 메시 토폴로지
  
  - 망형 토폴로지라고도 하며 그물망처럼 연결된 구조
  
  - 하나의 단말장치에 장애가 생겨도 네트워크를 계속 사용할 수 있고 트래픽의 분산처리가 가능
  
  - 노드의 추가가 어렵고 구축비용과 운용비용이 비싸다
  
  <img title="" src="https://thebook.io/img/080326/073.jpg" alt="" width="292">

##### 스푸핑

LAN상에서 송신부의 패킷을 송신과 관련없는 다른 호스트에게 가지 않도록 하는 스위칭 기능을 마비시키거나 속여서 다른 노드에 해당 패킷이 오도록 처리하는 것. 올바르게 가야할 패킷이 악의적인 노드에 전달되게 됨.

<img title="" src="https://thebook.io/img/080326/071_2.jpg" alt="면접을 위한 CS 전공지식 노트: 2.1.2 네트워크 토폴로지와 병목 현상 - 1" width="370">

### 인터넷 프로토콜 계층

인터넷 프로토콜 스위트(internet protocol suite)은 인터넷에서 컴퓨터들이 서보 정보를 주고받는데 쓰이는 프로토콜의 집합이며 이는 TCP/IP 4계층 모델, OSI 7계층 모델로 설명한다.

![](https://thebook.io/img/080326/080.jpg)





![](https://thebook.io/img/080326/094_1.jpg)





### HTTP

기본적으로 4계층 중 전송계층 위에 있는 애플리케이션 계층이다



#### HTTP/1.0

기본적으로 한 연결당 하나의 요청을 처리

서버에서 파일을 받을 때 마다 TCP의 3-웨이 핸드셰이크를 했기에 RTT가 증가

`RTT : 패킷이 목적지에 도달하고 다시 출발지로 돌아오기까지 걸리는 시간(패킷왕복시간)`

RTT를 줄이기 위해 __이미지 스플리팅__, __코드압축__, __이미지 Base64 인코딩__ 을사용 

 

#### HTTP/1.1

매번 TCP연결을 하는 것이 아니라 한 번 TCP 초기화를 한 후 keep-alive라는 옵견으로 여러개의 파일을 송수신 가능하게 바뀜. HTTP/1.0에서는 표준화되어 있지 않던 keep-alive가 HTTP/1.1부터 표준화 되어 기본옵션으로 설정



##### HOL Blocking

HOL Blocking(Head Of Line Blocking)은 네트워크에서 같은 큐에 앞에 있는 패킷이 지연될 때 이후에 있는 패킷이 모두지연될 때 발생하는 성능 저하 현상



##### 헤더구조

HTTP/1.1의 헤더에는 많은 데이터가 있고 압축이 되지 않아 크기가 컸다



#### HTTP/2

지연시간을 줄이고 응답시간을 더 빠르게 할 수 있으며 __멀티플렉싱__, __헤더압축__, __서버푸시__, __요청의 우선순위 처리__ 를 지원하는 프로토콜



##### 멀티플렉싱

여러 개의 스트림을 사용해 송수신

단일 연결을 통해 병렬로 여어 요청을 받고 응답할 수 있기 때문에 HTTP/1.X에 있는 HOL Blocking을 해결할 수 있다



##### 서버 푸시

HTTP/1.1에서는 클라이언트가 서버에 요청을 해야 파일을 받을 수 있었지만 HTTP/2는 클라이언트의 요청 없이 서버가 리소스를 푸시할 수 있다

<img src="https://thebook.io/img/080326/121.jpg" title="" alt="" width="356">



#### HTTPS

HTTP/2는 HTTPS 위에서 동작한다. HTTPS는 애플리케이션 계층과 전송계층 사이에 신뢰계층인 SSL/TLS 계층을 넣은 신뢰할 수 있는 HTTP 요청이다. 이를 통해 __통신을 암호화__ 한다



##### SSL/TLS

전송계층에서 보안을 제공하는 프로토콜

클라이언트와 서버가 통신할 때 제3자가 메시지를 도청하거나 변조하지 못하도록 한다





#### HTTP/3

HTTP/2는 TCP 위에서 돌아갔지만 HTTP/3는 QUIC라는 계층 위에서 돌아가며 TCP가 아닌 UDP 기반이다.

<img src="https://thebook.io/img/080326/130.jpg" title="" alt="" width="339">



##### 초기 연결 시 지연시간 감소

QUIC는 TCP가 아니기에 통신을 시작할 때 3-웨이 핸드셰이크가 필요 없기에 초기 연결 속도가 더 빠르다.
